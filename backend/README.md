# –ë—ç–∫–µ–Ω–¥ üí´  
–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **FastAPI** + **SQLAlchemy** + **Alembic**. –í –∫–∞—á–µ—Å—Ç–≤–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Poetry**. –ë—ç–∫–µ–Ω–¥ –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ **PostgreSQL** –∏ —Å–ª—É–∂–∏—Ç API –¥–ª—è Telegram-–±–æ—Ç–∞ (–∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —ç—Ç–æ–º –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏).  

## –ì–¥–µ, –∫–∞–∫ –∏ —á—Ç–æ? üßê  
–ü–∞–ø–∫–∞ `app/` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í–Ω—É—Ç—Ä–∏ –Ω–µ—ë –Ω–∞—Ö–æ–¥—è—Ç—Å—è:  
- **`run.sh`** ‚Äî —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç).  
- **`main.py`** ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã –∫ FastAPI.  
- **`alembic.ini`** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª Alembic.  
- **`alembic/`** ‚Äî —Ñ–∞–π–ª—ã –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic.  
- **`handlers/`** ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.  
- **`core/`** ‚Äî –º–æ–¥–µ–ª–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á.  

## –ó–∞–ø—É—Å–∫ ‚ÜóÔ∏é  
–ó–∞–ø—É—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (—Ç–∞–º, –≥–¥–µ –ø–∞–ø–∫–∏ `backend/` –∏ `bot/`).  

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/app/run.sh` –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:  

   ```bash
   #!/bin/bash
   export POSTGRES_HOST=postgres/postgres_db
   export POSTGRES_USER=postgres_user
   export POSTGRES_PASSWORD=postgres_password

   poetry run alembic revision --autogenerate -m "migration"
   poetry run alembic upgrade head
   poetry run gunicorn main:app --workers 1 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:80
   ```  

2. –í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:  

   ```bash
   docker-compose up --build
   ```  

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π `127.0.0.1:8000/docs` ‚Äî —Ç–∞–º —Ç—ã –Ω–∞–π–¥—ë—à—å –≤—Å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API. üöÄ  
